addEventListeners(){

  this.files =[];
  
 this.$getFile.addEventListener("change", (e) =>{
 
   this.files= e.target.files;
   console.log("Files selected:", this.files);
   });



   this.$uploadFile.addEventListener("click", () => {
// Check if the files are selected
if (this.files.length != 0) {
  // Loop through all the selected files
  for (let i = 0; i < this.files.length; i++) {
    // Create a storage reference
    var storageRef = storage.ref(this.files[i].name);
    // Upload files and update progress bar
    var upload = storageRef.put(this.files[i]);
    upload.on(
      "state_changed",
      (snapshot) => {
        var percentage =
          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
        this.$progress.value = percentage;
        console.log("HI",storage)
      },
      (error) => {
        console.log("Upload error:", error);
      },
      () => {
        // Upload completed successfully
        storageRef
          .getDownloadURL()
          .then((url) => {
            console.log("Download URL:", url);
            this.saveDownloadUrlToFirestore(url);
            
          })
          .catch((error) => {
            console.log("Error getting download URL:", error);
          });
      }
    );
  }
}


   });

   saveDownloadUrlToFirestore(url) {
    // You need to implement the code to save the URL in Firestore here
    // For example:
    const userRef = db.collection("users").doc(this.userId.uid);
    userRef.update({
      downloadUrls: firebase.firestore.FieldValue.arrayUnion(url),
    });
  }
  <div class="modal-1">
    <div class="modal-content-1">
        <div class="post-menu">
            <button class="btn-menu"><span class="main-function">Edit</span></button>
            <button class="btn-menu"><span class="main-function">Delete</span> </button>
            <button class="btn-menu"><span>Add to favorite</span> </button>
            <button class="btn-menu"><span>Go to post</span></button>
            <button class="btn-menu"><span>Share to...</span> </button>
            <button class="btn-menu"><span>Copy link</span> </button>
            <button class="btn-menu">   <span>Embed</span> </button>
            <button class="btn-menu"> <span class="cancel">Cancel</span> </button>

         </div>
</div>